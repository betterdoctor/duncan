

# consul
`import "github.com/betterdoctor/duncan/consul"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [func CurrentDeploymentTagURL(app, env string) string](#CurrentDeploymentTagURL)
* [func CurrentTag(app, env string) (string, error)](#CurrentTag)
* [func Delete(app, deployEnv, url string, keys []string) error](#Delete)
* [func DeploymentTagURL(app, env string) string](#DeploymentTagURL)
* [func EnvURL(app, env string) string](#EnvURL)
* [func Read(url string) (map[string]string, error)](#Read)
* [func Write(app, deployEnv, url string, kvs []string) (map[string]string, error)](#Write)
* [type KVPair](#KVPair)
* [type TxnItem](#TxnItem)


#### <a name="pkg-files">Package files</a>
[api.go](/src/github.com/betterdoctor/duncan/consul/api.go) 





## <a name="CurrentDeploymentTagURL">func</a> [CurrentDeploymentTagURL](/src/target/api.go?s=4625:4677#L175)
``` go
func CurrentDeploymentTagURL(app, env string) string
```
CurrentDeploymentTagURL returns URL to fetch currently deployed tag



## <a name="CurrentTag">func</a> [CurrentTag](/src/target/api.go?s=3605:3653#L137)
``` go
func CurrentTag(app, env string) (string, error)
```
CurrentTag returns the last deployed tag for app + env



## <a name="Delete">func</a> [Delete](/src/target/api.go?s=2695:2755#L107)
``` go
func Delete(app, deployEnv, url string, keys []string) error
```
Delete removes key/values from Consul by given keys



## <a name="DeploymentTagURL">func</a> [DeploymentTagURL](/src/target/api.go?s=4933:4978#L182)
``` go
func DeploymentTagURL(app, env string) string
```
DeploymentTagURL returns URL to PUT release tags to (current/previous)



## <a name="EnvURL">func</a> [EnvURL](/src/target/api.go?s=4411:4446#L169)
``` go
func EnvURL(app, env string) string
```
EnvURL returns a Consul KV URL for an app/env



## <a name="Read">func</a> [Read](/src/target/api.go?s=535:583#L20)
``` go
func Read(url string) (map[string]string, error)
```
Read returns ENV for given consul KV URL



## <a name="Write">func</a> [Write](/src/target/api.go?s=1217:1296#L48)
``` go
func Write(app, deployEnv, url string, kvs []string) (map[string]string, error)
```
Write sets ENV vars for a given KV URL




## <a name="KVPair">type</a> [KVPair](/src/target/api.go?s=373:489#L13)
``` go
type KVPair struct {
    Key   string `json:"Key"`
    Value string `json:"Value"`
    Verb  string `json:"Verb,omitempty"`
}
```
KVPair represents an individual key/value pair










## <a name="TxnItem">type</a> [TxnItem](/src/target/api.go?s=274:321#L8)
``` go
type TxnItem struct {
    KV *KVPair `json:"KV"`
}
```
TxnItem represents a KV element in a transaction














- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
